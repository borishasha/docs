import{_ as i,c as a,o as n,aG as t}from"./chunks/framework.CrOSaJJH.js";const o=JSON.parse('{"title":"보안 및 인증","description":"","frontmatter":{},"headers":[],"relativePath":"backend/tech-stack/security.md","filePath":"backend/tech-stack/security.md"}'),e={name:"backend/tech-stack/security.md"};function l(h,s,p,k,r,d){return n(),a("div",null,s[0]||(s[0]=[t(`<h1 id="보안-및-인증" tabindex="-1">보안 및 인증 <a class="header-anchor" href="#보안-및-인증" aria-label="Permalink to &quot;보안 및 인증&quot;">​</a></h1><p>AxpFramework는 다양한 보안 기능을 제공하여 안전한 애플리케이션 개발을 지원합니다.</p><h2 id="jwt-json-web-token" tabindex="-1">JWT (JSON Web Token) <a class="header-anchor" href="#jwt-json-web-token" aria-label="Permalink to &quot;JWT (JSON Web Token)&quot;">​</a></h2><h3 id="버전" tabindex="-1">버전 <a class="header-anchor" href="#버전" aria-label="Permalink to &quot;버전&quot;">​</a></h3><ul><li><strong>JJWT</strong>: 0.11.5</li></ul><h3 id="토큰-타입" tabindex="-1">토큰 타입 <a class="header-anchor" href="#토큰-타입" aria-label="Permalink to &quot;토큰 타입&quot;">​</a></h3><h4 id="access-token" tabindex="-1">Access Token <a class="header-anchor" href="#access-token" aria-label="Permalink to &quot;Access Token&quot;">​</a></h4><ul><li><strong>유효기간</strong>: 15분</li><li><strong>용도</strong>: API 인증</li><li><strong>저장 위치</strong>: Authorization 헤더 또는 메모리</li></ul><h4 id="refresh-token" tabindex="-1">Refresh Token <a class="header-anchor" href="#refresh-token" aria-label="Permalink to &quot;Refresh Token&quot;">​</a></h4><ul><li><strong>유효기간</strong>: 7일</li><li><strong>용도</strong>: Access Token 재발급</li><li><strong>저장 위치</strong>: HttpOnly 쿠키</li></ul><h3 id="토큰-생성" tabindex="-1">토큰 생성 <a class="header-anchor" href="#토큰-생성" aria-label="Permalink to &quot;토큰 생성&quot;">​</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Autowired</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> AxpCommAuthService axpCommAuthService;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Access Token 생성</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">String accessToken </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> axpCommAuthService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createAccessToken</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(userId);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Refresh Token 생성</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">String refreshToken </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> axpCommAuthService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createRefreshToken</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(userId);</span></span></code></pre></div><h3 id="토큰-검증" tabindex="-1">토큰 검증 <a class="header-anchor" href="#토큰-검증" aria-label="Permalink to &quot;토큰 검증&quot;">​</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 토큰 파싱</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Claims claims </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> axpCommAuthService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parseToken</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(token);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">String userId </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> claims.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getSubject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 토큰 타입 확인</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isRefresh </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> axpCommAuthService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isRefreshToken</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(token);</span></span></code></pre></div><h3 id="설정" tabindex="-1">설정 <a class="header-anchor" href="#설정" aria-label="Permalink to &quot;설정&quot;">​</a></h3><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">jwt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  secret</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">U29tZVN1cGVyU2VjcmV0S2V5Rm9ySlBXVC1NeVNlY3JldEtleQ==</span></span></code></pre></div><blockquote><p><strong>주의</strong>: 운영 환경에서는 반드시 새로운 시크릿 키를 생성하세요.</p></blockquote><h2 id="spring-security" tabindex="-1">Spring Security <a class="header-anchor" href="#spring-security" aria-label="Permalink to &quot;Spring Security&quot;">​</a></h2><h3 id="securityfilterchain" tabindex="-1">SecurityFilterChain <a class="header-anchor" href="#securityfilterchain" aria-label="Permalink to &quot;SecurityFilterChain&quot;">​</a></h3><p>모든 요청은 Spring Security를 통해 인증/인가를 거칩니다.</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Bean</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SecurityFilterChain </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">securityFilterChain</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(HttpSecurity http) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    http</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">csrf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(csrf </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> csrf.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">disable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">authorizeHttpRequests</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(auth </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> auth</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">requestMatchers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(excludedUris).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">permitAll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">anyRequest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">authenticated</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addFilterBefore</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AxpJwtAuthenticationFilter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(...),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            UsernamePasswordAuthenticationFilter.class</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        );</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> http.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="제외-uri-설정" tabindex="-1">제외 URI 설정 <a class="header-anchor" href="#제외-uri-설정" aria-label="Permalink to &quot;제외 URI 설정&quot;">​</a></h3><p>인증이 필요 없는 URI를 설정할 수 있습니다.</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">security</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  excluded-uris</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    /api/login/loginCheck</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    ,/api/login/adminLoginCheck</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    ,/api/auth/**</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    ,/report</span></span></code></pre></div><h3 id="jwt-제외-uri-설정" tabindex="-1">JWT 제외 URI 설정 <a class="header-anchor" href="#jwt-제외-uri-설정" aria-label="Permalink to &quot;JWT 제외 URI 설정&quot;">​</a></h3><p>JWT 검증을 건너뛸 URI를 설정할 수 있습니다.</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">security</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  excluded-jwt-uris</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    /api/login/loginCheck</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    ,/api/login/adminLoginCheck</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    ,/api/auth/**</span></span></code></pre></div><h2 id="jwt-인증-필터" tabindex="-1">JWT 인증 필터 <a class="header-anchor" href="#jwt-인증-필터" aria-label="Permalink to &quot;JWT 인증 필터&quot;">​</a></h2><h3 id="axpjwtauthenticationfilter" tabindex="-1">AxpJwtAuthenticationFilter <a class="header-anchor" href="#axpjwtauthenticationfilter" aria-label="Permalink to &quot;AxpJwtAuthenticationFilter&quot;">​</a></h3><p>모든 요청에 대해 JWT 토큰을 검증합니다.</p><p><strong>동작 순서:</strong></p><ol><li>제외 URI 확인</li><li>쿠키에서 Refresh Token 추출</li><li>Authorization 헤더에서 Access Token 추출</li><li>토큰 검증</li><li>SecurityContext에 인증 정보 설정</li></ol><h3 id="rate-limiting" tabindex="-1">Rate Limiting <a class="header-anchor" href="#rate-limiting" aria-label="Permalink to &quot;Rate Limiting&quot;">​</a></h3><p>분당 최대 요청 수를 제한합니다.</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> final</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MAX_REQUESTS_PER_MINUTE </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 120</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>초과 시 429 Too Many Requests 응답을 반환합니다.</p><h2 id="암호화" tabindex="-1">암호화 <a class="header-anchor" href="#암호화" aria-label="Permalink to &quot;암호화&quot;">​</a></h2><h3 id="aes-128" tabindex="-1">AES-128 <a class="header-anchor" href="#aes-128" aria-label="Permalink to &quot;AES-128&quot;">​</a></h3><p>대칭키 암호화 알고리즘입니다.</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Autowired</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> AxpCommAES128 aes128;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 암호화</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">String encrypted </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> aes128.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">encrypt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(plainText);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 복호화</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">String decrypted </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> aes128.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">decrypt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(encrypted);</span></span></code></pre></div><p><strong>사용 예시:</strong></p><ul><li>개인정보 암호화 (주민등록번호, 전화번호 등)</li><li>리포트 생성 시 복호화</li></ul><h3 id="rsa" tabindex="-1">RSA <a class="header-anchor" href="#rsa" aria-label="Permalink to &quot;RSA&quot;">​</a></h3><p>공개키 암호화 알고리즘입니다.</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Autowired</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> AxpCommRsa rsa;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 암호화</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">String encrypted </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rsa.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">encrypt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(plainText);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 복호화</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">String decrypted </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rsa.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">decrypt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(encrypted);</span></span></code></pre></div><p><strong>설정:</strong></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">rsa</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCmI2Rk09DaXKzBR3GkbK+33Ye7QZEXx3QfZnMcO7yJOnv3BCO5HYv7fFwqt9Wctu+ZTiuyI3Oqi+PF65/0Y9AdambuWMj2ot+xbm9ipLzIdUcdZGC1XLazMkf6IsepO/xr109e/JEHbFPYmO3Bc6yydl226shGX0H3/nq3uej2w2Z4LcjMaL4qFP9FWZx8nNvzxkHQ2we5les9phYdOtZijcqHvPvzTuPtuA4c+9pFOkjqsEzeck1La3KVlCXb2OFUZ3+dwJHU3pyp9suVNOWk80WVxgtxGJQAAnFfBFCmeOtrOeJ6aXLi8fxAKwdAElhSOIwwW6baAHfvH0Wz3jzdAgMBAAECggEAOZjehsgaSYHEkJNUtiTJ/IvsMQKnqx9GRlaNxLV/BPJGJNqGCfjQ3WR9TYADKfwP7822f2EkCfXKhwTLpP3vmisXuT0Fmt/XfltjeUbUfgiOmYWBs46Ldm+RnYnuP2Eg/0Abb7pPC0xGezp1ftI8Bnjbv30A5sjChZfvcn+c4ONIfA85ogchOL8aSWAqtuj1WmPAHs1fiCbailExuqMZ0mGLYs1g0e0W1zKUqVpWxKchF1rOUmtMAHy0Sqlw+XKSDS4nVxiLTMMxPKM1Jt8Io/nE4j5QmcAAaWExRuvkbokKrCjXAFVj4fIlwFUdxsgqi14yhxbVNLuIj9WtHEnSHwKBgQDlCw7b3dQy8rFQ4CwTaeEii0tIM7xeSwkSYx7BgNgeNcRlhbg6Kl2OVaLmryQhj9VOIFFWXbvK6FIiG0IoBVefit+IYUo8DBYXHsrOHE1eZmdvW2k2uroEAZXTFlcNMRxO3av/nkWr2ldJOEqk9hvc2xfqVEMMjNTqDDhCIqMwwwKBgQC5sQswRitzSqFgEgfrGSuvXW/r8iM/4QLMGNiC5LlWdA9T+p/M0WCaJab43KEC8ZMWq/kH3+AtSYUIZXqKjqQleDN12a1PSQRleolE8iUMRbO4HxfnlC7drZAb1EK0Qbwq61xJE0/EuFLzxIE8SnhylKUtUAcLfKjLEc+1QQIB3wKBgHL+wk8RaODLiMsaQgbdOfOmC/4MO577/WoF6gMtNVS1mg1+vag2bRJxXICFnpZbKLU49J1wIkEVs2b8WJLPW9b2WpSWhDbxuoWRKDGjdBTZRUVbl8+qoIoyYY7BwKMW7SeLlDeat1A5J2nToWaBSivwtGkqNR+v9ZYs3HIYAecRAoGADTqkvmqxW8RcXNjMAZ7IcvToLVoR0tI3/cxjWGftIFCiauw3CEN+a1z1WVN2kRwey4Wy9zGm6fML7D42jbp9zUGUAPhiFXzxOD2Tm/rYUtiAZkSo0lHHSPm9g44KtobcXf5ok7gxfaVYG4/LWT1A+YDHh8PkzJez+supDZO1DecCgYAaKjrJVqScBpXlQ3EHPv5qGyVWwhcSKl9FNkMMIFmJfkIYckWqFqQX/+44EDtCYUFCShoSPuhnre9IVTfmoHBWa/R6CbydFxPYuDHsgDiDI+BMZq0It6rB8NH26gw0CzyxpZxVpI6x3FRWZ/KAJtaLsY8Zewf18C9MXdRYhXlSXg==</span></span></code></pre></div><h3 id="해시-함수" tabindex="-1">해시 함수 <a class="header-anchor" href="#해시-함수" aria-label="Permalink to &quot;해시 함수&quot;">​</a></h3><h4 id="md5" tabindex="-1">MD5 <a class="header-anchor" href="#md5" aria-label="Permalink to &quot;MD5&quot;">​</a></h4><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Autowired</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> AxpCommMD5Util md5Util;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">String hash </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> md5Util.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hash</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(input);</span></span></code></pre></div><h4 id="sha-256" tabindex="-1">SHA-256 <a class="header-anchor" href="#sha-256" aria-label="Permalink to &quot;SHA-256&quot;">​</a></h4><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Autowired</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> AxpCommSHA256Util sha256Util;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">String hash </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sha256Util.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hash</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(input);</span></span></code></pre></div><h2 id="xss-방지" tabindex="-1">XSS 방지 <a class="header-anchor" href="#xss-방지" aria-label="Permalink to &quot;XSS 방지&quot;">​</a></h2><h3 id="owasp-antisamy" tabindex="-1">OWASP AntiSamy <a class="header-anchor" href="#owasp-antisamy" aria-label="Permalink to &quot;OWASP AntiSamy&quot;">​</a></h3><p>HTML 입력을 정제하여 XSS 공격을 방지합니다.</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Autowired</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> AxpXssUtil xssUtil;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">String sanitized </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> xssUtil.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sanitize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(htmlInput);</span></span></code></pre></div><h3 id="정책-파일" tabindex="-1">정책 파일 <a class="header-anchor" href="#정책-파일" aria-label="Permalink to &quot;정책 파일&quot;">​</a></h3><p><code>antisamy-policy.xml</code> 파일에서 허용할 HTML 태그와 속성을 정의합니다.</p><h3 id="xss-필터" tabindex="-1">XSS 필터 <a class="header-anchor" href="#xss-필터" aria-label="Permalink to &quot;XSS 필터&quot;">​</a></h3><p><code>AxpXssFilter</code>가 모든 요청에 대해 XSS 공격을 방지합니다.</p><p><strong>실행 순서:</strong></p><ol><li>요청 데이터 검사</li><li>XSS 패턴 탐지</li><li>위험한 스크립트 제거</li><li>정제된 데이터를 컨트롤러에 전달</li></ol><h2 id="보안-헤더" tabindex="-1">보안 헤더 <a class="header-anchor" href="#보안-헤더" aria-label="Permalink to &quot;보안 헤더&quot;">​</a></h2><p>Spring Security를 통해 다음 보안 헤더를 자동으로 설정합니다:</p><ul><li><strong>Content-Security-Policy</strong>: XSS 방지</li><li><strong>X-Frame-Options</strong>: 클릭재킹 방지</li><li><strong>X-Content-Type-Options</strong>: MIME 타입 스니핑 방지</li><li><strong>Referrer-Policy</strong>: Referer 정보 제한</li><li><strong>Strict-Transport-Security</strong>: HTTPS 강제</li><li><strong>Cache-Control</strong>: 캐시 비활성화</li></ul><h2 id="다음-단계" tabindex="-1">다음 단계 <a class="header-anchor" href="#다음-단계" aria-label="Permalink to &quot;다음 단계&quot;">​</a></h2><ul><li><a href="./../security/filters.html">보안 필터 설정</a></li><li><a href="./../security/jwt.html">JWT 인증 가이드</a></li></ul>`,67)]))}const c=i(e,[["render",l]]);export{o as __pageData,c as default};
