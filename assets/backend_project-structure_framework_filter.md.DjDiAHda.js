import{_ as i,c as a,o as n,aG as t}from"./chunks/framework.DytOxJW6.js";const g=JSON.parse('{"title":"필터 클래스 모듈","description":"","frontmatter":{},"headers":[],"relativePath":"backend/project-structure/framework/filter.md","filePath":"backend/project-structure/framework/filter.md"}'),l={name:"backend/project-structure/framework/filter.md"};function e(p,s,h,k,r,E){return n(),a("div",null,s[0]||(s[0]=[t(`<h1 id="필터-클래스-모듈" tabindex="-1">필터 클래스 모듈 <a class="header-anchor" href="#필터-클래스-모듈" aria-label="Permalink to &quot;필터 클래스 모듈&quot;">​</a></h1><p>HTTP 요청/응답을 처리하는 필터 클래스들입니다.</p><h2 id="모듈-구조" tabindex="-1">모듈 구조 <a class="header-anchor" href="#모듈-구조" aria-label="Permalink to &quot;모듈 구조&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>axpFramework/filter/</span></span>
<span class="line"><span>├── auth/</span></span>
<span class="line"><span>│   └── AxpJwtAuthenticationFilter.java  # JWT 인증 필터</span></span>
<span class="line"><span>├── logging/</span></span>
<span class="line"><span>│   └── AxpCorsLoggingFilter.java        # CORS 로깅 필터</span></span>
<span class="line"><span>├── security/</span></span>
<span class="line"><span>│   ├── AxpDecryptFilter.java            # 복호화 필터</span></span>
<span class="line"><span>│   └── AxpXssFilter.java                # XSS 방지 필터</span></span>
<span class="line"><span>└── xss/</span></span>
<span class="line"><span>    └── AxpXssUtil.java                  # XSS 유틸리티</span></span></code></pre></div><h2 id="주요-필터" tabindex="-1">주요 필터 <a class="header-anchor" href="#주요-필터" aria-label="Permalink to &quot;주요 필터&quot;">​</a></h2><h3 id="_1-axpxssfilter" tabindex="-1">1. AxpXssFilter <a class="header-anchor" href="#_1-axpxssfilter" aria-label="Permalink to &quot;1. AxpXssFilter&quot;">​</a></h3><p><strong>위치</strong>: <code>axpFramework.filter.security.AxpXssFilter</code></p><p><strong>역할</strong>: XSS (Cross-Site Scripting) 공격 방지</p><p><strong>우선순위</strong>: 최우선 (HIGHEST_PRECEDENCE)</p><p><strong>처리 내용:</strong></p><ul><li>URL 파라미터 XSS 필터링</li><li>요청 헤더 XSS 필터링</li><li>JSON 요청 본문 XSS 필터링</li><li>OWASP AntiSamy를 사용한 HTML 정화</li></ul><p><strong>동작 방식:</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AxpXssFilter</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> implements</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Override</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> doFilter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ServletRequest </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ServletResponse </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">response</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        FilterChain </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">chain</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        HttpServletRequest httpRequest </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (HttpServletRequest) request;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        XssRequestWrapper wrappedRequest </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> XssRequestWrapper</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(httpRequest);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        chain.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">doFilter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(wrappedRequest, response);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>필터링 대상:</strong></p><ul><li><code>getParameter()</code>: URL 파라미터</li><li><code>getParameterValues()</code>: URL 파라미터 배열</li><li><code>getParameterMap()</code>: 모든 URL 파라미터</li><li><code>getHeader()</code>: HTTP 헤더</li><li><code>getInputStream()</code>: 요청 본문 (JSON 등)</li></ul><p><strong>사용 예시:</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 필터는 자동으로 적용됨</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 별도 설정 불필요</span></span></code></pre></div><h3 id="_2-axpdecryptfilter" tabindex="-1">2. AxpDecryptFilter <a class="header-anchor" href="#_2-axpdecryptfilter" aria-label="Permalink to &quot;2. AxpDecryptFilter&quot;">​</a></h3><p><strong>위치</strong>: <code>axpFramework.filter.security.AxpDecryptFilter</code></p><p><strong>역할</strong>: 암호화된 요청 데이터 복호화</p><p><strong>처리 내용:</strong></p><ul><li>요청 본문의 암호화된 데이터 복호화</li><li>복호화된 데이터를 요청에 재설정</li></ul><p><strong>동작 방식:</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AxpDecryptFilter</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> implements</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Override</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> doFilter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ServletRequest </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ServletResponse </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">response</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        FilterChain </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">chain</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 요청 본문 읽기</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 암호화 여부 확인</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 복호화 수행</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 복호화된 데이터로 요청 래핑</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        chain.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">doFilter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(wrappedRequest, response);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>설정:</strong></p><ul><li><code>application.yaml</code>에서 암호화 활성화 여부 설정</li><li>세션 데이터의 <code>decrypt</code> 값 확인</li></ul><h3 id="_3-axpjwtauthenticationfilter" tabindex="-1">3. AxpJwtAuthenticationFilter <a class="header-anchor" href="#_3-axpjwtauthenticationfilter" aria-label="Permalink to &quot;3. AxpJwtAuthenticationFilter&quot;">​</a></h3><p><strong>위치</strong>: <code>axpFramework.filter.auth.AxpJwtAuthenticationFilter</code></p><p><strong>역할</strong>: JWT 토큰 인증 처리</p><p><strong>처리 내용:</strong></p><ul><li>Authorization 헤더에서 Access Token 추출</li><li>토큰 검증</li><li>인증 정보를 SecurityContext에 설정</li></ul><p><strong>동작 방식:</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AxpJwtAuthenticationFilter</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> OncePerRequestFilter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Override</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    protected</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> doFilterInternal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(HttpServletRequest </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                                   HttpServletResponse </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">response</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                                   FilterChain </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">filterChain</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        String token </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> extractToken</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(request);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (token </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;&amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> validateToken</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(token)) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            Authentication auth </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getAuthentication</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(token);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            SecurityContextHolder.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getContext</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setAuthentication</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(auth);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        filterChain.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">doFilter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(request, response);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>토큰 추출:</strong></p><ul><li><code>Authorization: Bearer {token}</code> 형식</li><li>쿠키에서 토큰 추출 (선택적)</li></ul><h3 id="_4-axpcorsloggingfilter" tabindex="-1">4. AxpCorsLoggingFilter <a class="header-anchor" href="#_4-axpcorsloggingfilter" aria-label="Permalink to &quot;4. AxpCorsLoggingFilter&quot;">​</a></h3><p><strong>위치</strong>: <code>axpFramework.filter.logging.AxpCorsLoggingFilter</code></p><p><strong>역할</strong>: CORS 요청 로깅</p><p><strong>처리 내용:</strong></p><ul><li>CORS 관련 요청 로깅</li><li>디버깅 정보 제공</li></ul><h2 id="필터-등록" tabindex="-1">필터 등록 <a class="header-anchor" href="#필터-등록" aria-label="Permalink to &quot;필터 등록&quot;">​</a></h2><h3 id="axpfilterconfig" tabindex="-1">AxpFilterConfig <a class="header-anchor" href="#axpfilterconfig" aria-label="Permalink to &quot;AxpFilterConfig&quot;">​</a></h3><p><strong>위치</strong>: <code>axpFramework.config.AxpFilterConfig</code></p><p><strong>필터 등록 순서:</strong></p><ol><li><code>AxpXssFilter</code> (최우선)</li><li><code>AxpDecryptFilter</code></li><li><code>AxpJwtAuthenticationFilter</code> (Spring Security 필터 체인에 등록)</li></ol><p><strong>설정 예시:</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Configuration</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AxpFilterConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Bean</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> FilterRegistrationBean&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">AxpXssFilter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">xssFilter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        FilterRegistrationBean&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">AxpXssFilter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; registration </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> FilterRegistrationBean&lt;&gt;();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        registration.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setFilter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AxpXssFilter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        registration.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addUrlPatterns</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        registration.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setOrder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Ordered.HIGHEST_PRECEDENCE);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> registration;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Bean</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> FilterRegistrationBean&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">AxpDecryptFilter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">decryptFilter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        FilterRegistrationBean&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">AxpDecryptFilter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; registration </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> FilterRegistrationBean&lt;&gt;();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        registration.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setFilter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AxpDecryptFilter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        registration.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addUrlPatterns</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        registration.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setOrder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Ordered.HIGHEST_PRECEDENCE </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> registration;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="필터-실행-순서" tabindex="-1">필터 실행 순서 <a class="header-anchor" href="#필터-실행-순서" aria-label="Permalink to &quot;필터 실행 순서&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>1. AxpXssFilter (XSS 방지)</span></span>
<span class="line"><span>   ↓</span></span>
<span class="line"><span>2. AxpDecryptFilter (복호화)</span></span>
<span class="line"><span>   ↓</span></span>
<span class="line"><span>3. Spring Security Filter Chain</span></span>
<span class="line"><span>   ├── AxpJwtAuthenticationFilter (JWT 인증)</span></span>
<span class="line"><span>   └── 기타 Security 필터</span></span>
<span class="line"><span>   ↓</span></span>
<span class="line"><span>4. DispatcherServlet</span></span>
<span class="line"><span>   ↓</span></span>
<span class="line"><span>5. Controller</span></span></code></pre></div><h2 id="xss-유틸리티" tabindex="-1">XSS 유틸리티 <a class="header-anchor" href="#xss-유틸리티" aria-label="Permalink to &quot;XSS 유틸리티&quot;">​</a></h2><h3 id="axpxssutil" tabindex="-1">AxpXssUtil <a class="header-anchor" href="#axpxssutil" aria-label="Permalink to &quot;AxpXssUtil&quot;">​</a></h3><p><strong>위치</strong>: <code>axpFramework.filter.xss.AxpXssUtil</code></p><p><strong>역할</strong>: XSS 필터링 유틸리티</p><p><strong>주요 메서드:</strong></p><ul><li><code>stripXss(String value)</code>: XSS 제거</li></ul><p><strong>사용 예시:</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">String safeValue </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> AxpXssUtil.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stripXss</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(userInput);</span></span></code></pre></div><h2 id="보안-정책-파일" tabindex="-1">보안 정책 파일 <a class="header-anchor" href="#보안-정책-파일" aria-label="Permalink to &quot;보안 정책 파일&quot;">​</a></h2><h3 id="antisamy-policy-xml" tabindex="-1">antisamy-policy.xml <a class="header-anchor" href="#antisamy-policy-xml" aria-label="Permalink to &quot;antisamy-policy.xml&quot;">​</a></h3><p><strong>위치</strong>: <code>src/main/resources/antisamy-policy.xml</code></p><p><strong>역할</strong>: OWASP AntiSamy 정책 파일</p><p><strong>내용:</strong></p><ul><li>허용된 HTML 태그 및 속성 정의</li><li>XSS 공격 패턴 차단 규칙</li></ul><h2 id="주의사항" tabindex="-1">주의사항 <a class="header-anchor" href="#주의사항" aria-label="Permalink to &quot;주의사항&quot;">​</a></h2><ol><li><strong>필터 순서</strong>: XSS 필터는 반드시 최우선으로 실행되어야 함</li><li><strong>성능</strong>: 필터는 모든 요청에 적용되므로 성능 고려 필요</li><li><strong>예외 URI</strong>: 특정 URI는 필터에서 제외 가능</li><li><strong>로깅</strong>: 필터 동작은 로그로 확인 가능</li></ol><h2 id="다음-단계" tabindex="-1">다음 단계 <a class="header-anchor" href="#다음-단계" aria-label="Permalink to &quot;다음 단계&quot;">​</a></h2><ul><li><a href="./../../security/filters.html">보안 필터</a></li><li><a href="./../../security/jwt.html">JWT 인증</a></li><li><a href="./../../security/spring-security.html">XSS 방지</a></li></ul>`,67)]))}const o=i(l,[["render",e]]);export{g as __pageData,o as default};
